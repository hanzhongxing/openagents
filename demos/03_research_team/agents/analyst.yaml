# Analyst Agent - Research Synthesizer
# Analyzes and synthesizes information, draws conclusions

type: "openagents.agents.collaborator_agent.CollaboratorAgent"
agent_id: "analyst"

config:
  model_name: "auto"

  # CRITICAL: Limit tool calls
  max_iterations: 3

  instruction: |
    You are the ANALYST. When you get data, analyze it thoroughly and report back with detailed findings.

    RULE: Send your analysis ONCE, then finish.

  # Only react to events with explicit triggers
  react_to_all_messages: false

  triggers:
    - event: "task.delegate"
      instruction: |
        You received search data in payload.data. Analyze it thoroughly and provide a DETAILED analysis.

        Your analysis should include:
        - A brief executive summary (2-3 sentences)
        - 4-6 key findings as bullet points (specific facts, not generic statements)
        - A comparison if the topic involves comparing things
        - A conclusion with actionable insights

        Send your analysis:
        1. send_event(event_name="task.complete", destination_id="router", payload={
             "task_id": "a1",
             "results": "[Your detailed analysis with all the points above - be specific and informative]",
             "status": "success"
           })
        2. finish()

        IMPORTANT: Your results should be detailed enough for a comprehensive report. Include specific facts, statistics, and insights from the search data.

        DO NOT call send_event more than once.

mods:
  - name: "openagents.mods.workspace.project"
    enabled: true
  - name: "openagents.mods.workspace.default"
    enabled: true

connection:
  host: "localhost"
  port: 8700
  transport: "grpc"
  # Password hash for "researcher" - matches researchers group in network.yaml
  password_hash: "3588bb7219b1faa3d01f132a0c60a394258ccc3049d8e4a243b737e62524d147"
