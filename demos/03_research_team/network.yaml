# Demo 3: Research Team with Router
# A router agent coordinates research tasks between a web-searcher and analyst
# Uses only the project mod for structured task management

network:
  name: "ResearchTeam"
  mode: "centralized"
  node_id: "research-team-1"
  initialized: true

  # Transport configuration
  transports:
    - type: "http"
      config:
        port: 8700
        serve_studio: true
        serve_mcp: true
    - type: "grpc"
      config:
        port: 8600
        max_message_size: 104857600
        compression: "gzip"
        keepalive_time: 60000
        keepalive_timeout: 30000

  manifest_transport: "http"
  recommended_transport: "grpc"

  # Security configuration
  encryption_enabled: false

  # Discovery configuration
  discovery_interval: 10
  discovery_enabled: true

  # Connection management
  max_connections: 10
  connection_timeout: 30.0
  retry_attempts: 3
  heartbeat_interval: 60
  agent_timeout: 180

  # Messaging configuration
  message_queue_size: 1000
  message_timeout: 30.0
  message_routing_enabled: true

  default_agent_group: guest
  requires_password: false

  agent_groups:
    admin:
      description: "Administrator agents with full permissions"
      password_hash: "8c6976e5b5410415bde908bd4dee15dfb167a9c873fc4bb8a81f6f2ab448a918"  # password: admin
      metadata:
        permissions: ["all"]

    coordinators:
      description: "Router agents that coordinate research tasks"
      password_hash: "bf24385098410391a81d92b2de72d3a2946d24f42ee387e51004a868281a2408"  # password: coordinator
      metadata:
        permissions: ["create_projects", "delegate_tasks", "communicate_with_users"]
        agents:
          - "router"

    researchers:
      description: "Worker agents that execute research tasks"
      password_hash: "3588bb7219b1faa3d01f132a0c60a394258ccc3049d8e4a243b737e62524d147"  # password: researcher
      metadata:
        permissions: ["execute_tasks", "report_results"]
        agents:
          - "web-searcher"
          - "analyst"

  # Mod configuration - project mod only
  mods:
    # Default workspace for event handling
    - name: "openagents.mods.workspace.default"
      enabled: true
      config:
        custom_events_enabled: true

    # Project management for research workflows
    - name: "openagents.mods.workspace.project"
      enabled: true
      config:
        max_concurrent_projects: 5

        project_templates:
          research_task:
            name: "Research Task"
            description: "Structured research with web search and analysis"
            agent_groups: ["coordinators", "researchers"]
            context: |
              Research Task Workflow

              This project coordinates research between specialized agents:
              - Router: Receives requests, delegates tasks, compiles results
              - Web-Searcher: Finds information from the web
              - Analyst: Analyzes and synthesizes findings

              Workflow:
              1. Router receives research request
              2. Router delegates search tasks to web-searcher
              3. Web-searcher returns findings
              4. Router delegates analysis to analyst
              5. Analyst synthesizes and draws conclusions
              6. Router compiles final report for user

          comparison_research:
            name: "Comparison Research"
            description: "Compare two or more topics/technologies"
            agent_groups: ["coordinators", "researchers"]
            context: |
              Comparison Research Workflow

              For comparing topics (e.g., "Rust vs Go"):
              1. Router breaks into separate search tasks
              2. Web-searcher gathers info on each topic
              3. Analyst compares and contrasts findings
              4. Router presents balanced comparison

          deep_dive:
            name: "Deep Dive Research"
            description: "In-depth research on a single topic"
            agent_groups: ["coordinators", "researchers"]
            context: |
              Deep Dive Research Workflow

              For thorough topic investigation:
              1. Router identifies key aspects to research
              2. Web-searcher conducts multiple searches
              3. Analyst synthesizes comprehensive overview
              4. Router delivers detailed report

# Network profile for discovery
network_profile:
  discoverable: true
  name: "Research Team"
  description: "A demo showcasing router-based task delegation using the project mod. A router coordinates between a web-searcher and analyst to complete research tasks."
  tags:
    - "demo"
    - "project"
    - "routing"
    - "research"
    - "delegation"
  categories:
    - "demo"
    - "workflow"
  country: "Worldwide"
  required_openagents_version: "0.6.13"
  capacity: 10
  authentication:
    type: "none"
  host: "0.0.0.0"
  port: 8700

# Global settings
log_level: "INFO"
data_dir: "./data/research-team"

runtime_limit: null
shutdown_timeout: 30
