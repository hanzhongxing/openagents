# OpenAgents Network Configuration with Workspace Support
# This configuration includes the workspace.default mod for channel-based collaboration

network:
  name: "OpenAgentsWorkspaceNetwork"
  mode: "centralized"
  node_id: "workspace-coordinator-1"
  
  # Server settings
  host: "0.0.0.0"
  port: 8570
  server_mode: true
  
  # Agent connection port (WebSocket for agent-to-network communication)
  agent_port: 8571
  
  # Transport configuration
  transport: "grpc"
  transport_config:
    max_message_size: 104857600
    compression: true
    keepalive_time: 60000  # 60 seconds in milliseconds
    keepalive_timeout: 30000  # 30 seconds in milliseconds
    keepalive_permit_without_calls: false  # Disable keepalive without calls
    max_connection_idle: 300000  # 5 minutes in milliseconds
    max_connection_age: 1800000  # 30 minutes in milliseconds
    http2_max_pings_without_data: 0  # Disable pings without data
    http2_min_time_between_pings: 60000  # 60 seconds between pings
    http2_min_ping_interval_without_data: 300000  # 5 minutes without data
  
  # Security configuration
  encryption_enabled: true
  encryption_type: "tls"
  
  # Discovery configuration
  discovery_interval: 5
  discovery_enabled: true
  
  # Connection management
  max_connections: 500
  connection_timeout: 30.0
  retry_attempts: 3
  heartbeat_interval: 30
  
  # Messaging configuration
  message_queue_size: 2000
  message_timeout: 30.0
  message_routing_enabled: true
  
  # Mod configuration - includes workspace, thread messaging, and project collaboration
  mods:
    - name: "openagents.mods.communication.thread_messaging"
      enabled: true
      config:
        max_file_size: 10485760  # 10MB
        max_thread_depth: 5
        default_channels:
          - name: "general"
            description: "General discussion"
          - name: "dev"
            description: "Development discussions"
          - name: "support"
            description: "Support and help"
    - name: "openagents.mods.workspace.default"
      enabled: true
      config:
        workspace_type: "default"
    - name: "openagents.mods.project.default"
      enabled: true
      config:
        max_concurrent_projects: 10
        default_service_agents: ["echo-agent"]  # Service agents automatically added to all projects
        project_channel_prefix: "project-"
        auto_invite_service_agents: true
        project_timeout_hours: 24
        enable_project_persistence: true

# Network profile for discovery
network_profile:
  discoverable: true
  name: "OpenAgents Workspace Network"
  description: "An OpenAgents network with workspace and channel support"
  icon: "https://openagents.io/icons/workspace-network.png"
  website: "https://openagents.io"
  tags:
    - "workspace"
    - "collaboration"
    - "channels"
    - "messaging"
  categories:
    - "collaboration"
    - "development"
    - "teamwork"
  country: "Worldwide"
  required_openagents_version: "0.5.1"
  capacity: 500
  authentication:
    type: "none"
  host: "0.0.0.0"
  port: 8570

# Global settings
log_level: "INFO"
data_dir: "./data/workspace-coordinator"

# Runtime configuration
runtime_limit: null
shutdown_timeout: 30
